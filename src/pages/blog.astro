---


import "../styles/global.css";
import "../content/docs.css";

import Navbar from "../components/navbar.astro";
import Blogitem from "../components/blogitem.astro";
import { titleToLowerCaseKebab } from "../components/blogitem.astro";

const blogPosts = Object.values(import.meta.glob('../content/blogs/*.md', { eager: true })) ;

// Find most recent blog post
let BlogData
for(let i=0; i<blogPosts.length; i++) {
	
	if(!BlogData || 
		new Date(BlogData.frontmatter.date) <= new Date(blogPosts[i].frontmatter.date))
	{
		BlogData = blogPosts[i]
	}
}

// Store the frontmatter in an array so we can sort
let sortedBlogPosts = []
for(let i=0; i<blogPosts.length; i++) 
{
	if(blogPosts[i]?.frontmatter?.title !== BlogData?.frontmatter?.title) 
	{
		sortedBlogPosts.push(blogPosts[i].frontmatter)
	}
}

sortedBlogPosts.sort((a, b) => {
	return new Date(b.date) - new Date(a.date); // ascending
})

---

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />
	<meta
		name="description"
		content="C3 is a programming language that builds on the syntax and semantics of the C language, with the goal of evolving it while still retaining familiarity for C programmers."
  	/>
  	<meta name="og:title" content="C3" />
  	<meta
  		name="og:description"
    	content="C3 is a programming language that builds on the syntax and semantics of the C language, with the goal of evolving it while still retaining familiarity for C programmers."
  	/>
	<meta content="/logo.svg" property="og:image" />
	<meta content="#4355ec" data-react-helmet="true" name="theme-color" />
	<meta name="og:image" content="/logo.svg" />

  	<link rel="icon" href="/ico.svg" type="image/x-icon" />

	<title>C3 | Blog | An evolution, not a revolution</title>
</head>




<body class="dark:bg-stone-950 bg-white">
	<div style="height: auto">
	
		<Navbar />
		
		<div class="
			relative
			overflow-hidden
			"
		>
			<div class="
				max-w-[40rem] 
				mx-auto 
				px-4 
				sm:px-6 
				lg:px-8 
				pt-8
				md:pt-24 
				pb-12
				"
			>
				<div class="mt-5 mx-auto">
				
					<h1 class="
						block 
						text-3xl 
						font-bold 
						text-gray-800 
						sm:text-4xl 
						lg:text-6xl 
						lg:leading-tight 
						dark:text-white
						text-center
						mb-8
						md:mb-18
						"
					>
						The
						<span class="
							bg-clip-text 
							bg-gradient-to-l 
							from-violet-600 
							to-blue-600 
							text-transparent"
						>
						C3
						</span>
						Blog
					</h1>		
					
					
					<!-- Show only current blogpost -->
					<Blogitem 
						title={BlogData?.frontmatter?.title} 
						date={BlogData?.frontmatter?.date?.slice(0,10)}
					>
						 <BlogData.Content/>
					</Blogitem>
					
					
					<div>
						<h2 class="
							md:col-start-2
							text-[var(--sl-color-gray-1)]
							mt-8
							mb-4
							font-bold
							text-3xl
						">
							Recent Blog Posts
						</h2>
						
						{sortedBlogPosts.map((BlogPost) => {
							
							const blogPostUrl = titleToLowerCaseKebab(BlogPost.title)
							
							return <div class="
								hover:bg-slate-100
								hover:dark:bg-slate-800
								rounded-3xl
								px-4
								py-1
								my-1		
							">
								<a class="
									text-[var(--sl-color-text-accent)]
									text-justify
									"
									href={"/blog/"+blogPostUrl}
								>
									
									<div class="
										flex
										flex-col
										sm:ml-4
										text-[var(--sl-color-gray-1)]
									">
										<h3 class="
											text-l 
											font-bold
											"
										>
											{BlogPost.title}
										</h3>
										<p class="font-medium">
											{BlogPost.date.slice(0,10)}
										</p>
									</div>
								</a>
							
							</div>
						} 
						)}

					</div>
					
				
				</div>
			</div>

		</div>
	</div>
</body>